let _;const m=new Array(128).fill(void 0);m.push(void 0,null,!0,!1);function o(e){return m[e]}let A=m.length;function U(e){e<132||(m[e]=A,A=e)}function u(e){const n=o(e);return U(e),n}const $=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&$.decode();let p=null;function T(){return(p===null||p.byteLength===0)&&(p=new Uint8Array(_.memory.buffer)),p}function y(e,n){return e=e>>>0,$.decode(T().subarray(e,e+n))}function s(e){A===m.length&&m.push(m.length+1);const n=A;return A=m[n],m[n]=e,n}let f=0;const F=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},C=typeof F.encodeInto=="function"?function(e,n){return F.encodeInto(e,n)}:function(e,n){const t=F.encode(e);return n.set(t),{read:e.length,written:t.length}};function l(e,n,t){if(t===void 0){const b=F.encode(e),h=n(b.length,1)>>>0;return T().subarray(h,h+b.length).set(b),f=b.length,h}let r=e.length,c=n(r,1)>>>0;const i=T();let a=0;for(;a<r;a++){const b=e.charCodeAt(a);if(b>127)break;i[c+a]=b}if(a!==r){a!==0&&(e=e.slice(a)),c=t(c,r,r=a+e.length*3,1)>>>0;const b=T().subarray(c+a,c+r),h=C(e,b);a+=h.written,c=t(c,r,a,1)>>>0}return f=a,c}function j(e){return e==null}let k=null;function d(){return(k===null||k.byteLength===0)&&(k=new Int32Array(_.memory.buffer)),k}let v=null;function z(){return(v===null||v.byteLength===0)&&(v=new Float64Array(_.memory.buffer)),v}function x(e){const n=typeof e;if(n=="number"||n=="boolean"||e==null)return`${e}`;if(n=="string")return`"${e}"`;if(n=="symbol"){const c=e.description;return c==null?"Symbol":`Symbol(${c})`}if(n=="function"){const c=e.name;return typeof c=="string"&&c.length>0?`Function(${c})`:"Function"}if(Array.isArray(e)){const c=e.length;let i="[";c>0&&(i+=x(e[0]));for(let a=1;a<c;a++)i+=", "+x(e[a]);return i+="]",i}const t=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(t.length>1)r=t[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}const N=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>{_.__wbindgen_export_2.get(e.dtor)(e.a,e.b)});function I(e,n,t,r){const c={a:e,b:n,cnt:1,dtor:t},i=(...a)=>{c.cnt++;const b=c.a;c.a=0;try{return r(b,c.b,...a)}finally{--c.cnt===0?(_.__wbindgen_export_2.get(c.dtor)(b,c.b),N.unregister(c)):c.a=b}};return i.original=c,N.register(i,c,c),i}function D(e,n){_._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__he869ed3088828d44(e,n)}function H(e,n,t){_._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h3852b73c5d1b43e2(e,n,s(t))}function B(){_.main()}function J(e){try{const c=_.__wbindgen_add_to_stack_pointer(-16),i=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),a=f;_.generate_qr_code(c,i,a);var n=d()[c/4+0],t=d()[c/4+1],r=d()[c/4+2];if(r)throw u(t);return u(n)}finally{_.__wbindgen_add_to_stack_pointer(16)}}function Q(){const e=_.get_data_build_info();return u(e)}function V(){const e=_.preload_symbol_search_cache();return u(e)}function X(e,n,t,r){const c=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),i=f,a=_.search_tickers(c,i,n,t,j(r)?16777215:r?1:0);return u(a)}function G(e,n,t){const r=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),c=f,i=_.extract_search_results_from_text(r,c,n,t);return u(i)}function Y(e){const n=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),t=f,r=_.get_ticker_detail(n,t);return u(r)}function Z(e){const n=_.get_weighted_ticker_sector_distribution(s(e));return u(n)}function P(e){const n=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),t=f,r=_.get_ticker_10k_detail(n,t);return u(r)}function K(e){const n=_.get_weighted_ticker_10k_detail(s(e));return u(n)}function ee(e,n,t){const r=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),c=f,i=_.get_etf_holders_aggregate_detail(r,c,n,t);return u(i)}function ne(e){const n=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),t=f,r=_.get_etf_aggregate_detail(n,t);return u(r)}function te(e,n,t){const r=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),c=f,i=_.get_etf_holdings(r,c,n,t);return u(i)}function re(e,n){const t=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=f,c=l(n,_.__wbindgen_malloc,_.__wbindgen_realloc),i=f,a=_.get_etf_holding_weight(t,r,c,i);return u(a)}function _e(e){const n=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),t=f,r=_.get_image_info(n,t);return u(r)}function ce(){const e=_.get_all_major_sectors();return u(e)}function oe(e,n){const t=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=f,c=_.audit_missing_ticker_vectors(t,r,s(n));return u(c)}function ie(e,n){const t=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=f,c=l(n,_.__wbindgen_malloc,_.__wbindgen_realloc),i=f,a=_.get_euclidean_by_ticker(t,r,c,i);return u(a)}function se(e,n){const t=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=f,c=_.get_euclidean_by_ticker_bucket(t,r,s(n));return u(c)}function ae(e,n){const t=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=f,c=l(n,_.__wbindgen_malloc,_.__wbindgen_realloc),i=f,a=_.get_cosine_by_ticker(t,r,c,i);return u(a)}function ue(e,n){const t=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=f,c=_.get_cosine_by_ticker_bucket(t,r,s(n));return u(c)}function fe(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.get_all_ticker_vector_configs(r);var e=d()[r/4+0],n=d()[r/4+1],t=d()[r/4+2];if(t)throw u(n);return u(e)}finally{_.__wbindgen_add_to_stack_pointer(16)}}function le(e){const n=_.ticker_buckets_to_csv(s(e));return u(n)}function be(e){const n=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),t=f,r=_.csv_to_ticker_buckets(n,t);return u(r)}function ge(e,n){const t=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=f,c=l(n,_.__wbindgen_malloc,_.__wbindgen_realloc),i=f;return _.levenshtein_distance(t,r,c,i)>>>0}function de(){return _.get_cache_size()>>>0}function we(){const e=_.get_cache_details();return u(e)}function ye(e){const n=l(e,_.__wbindgen_malloc,_.__wbindgen_realloc),t=f;_.remove_cache_entry(n,t)}function me(){_.clear_cache()}function g(e,n){try{return e.apply(this,n)}catch(t){_.__wbindgen_exn_store(s(t))}}function he(e,n,t,r){_.wasm_bindgen__convert__closures__invoke2_mut__haf012b8884209662(e,n,s(t),s(r))}async function pe(e,n){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,n)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}else{const t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}function q(){const e={};return e.wbg={},e.wbg.__wbindgen_object_drop_ref=function(n){u(n)},e.wbg.__wbindgen_string_new=function(n,t){const r=y(n,t);return s(r)},e.wbg.__wbindgen_string_get=function(n,t){const r=o(t),c=typeof r=="string"?r:void 0;var i=j(c)?0:l(c,_.__wbindgen_malloc,_.__wbindgen_realloc),a=f;d()[n/4+1]=a,d()[n/4+0]=i},e.wbg.__wbindgen_number_new=function(n){return s(n)},e.wbg.__wbg_rustNotifyCallback_b4c9f6bfc53744f1=function(n,t,r){rustNotifyCallback(y(n,t),o(r))},e.wbg.__wbindgen_object_clone_ref=function(n){const t=o(n);return s(t)},e.wbg.__wbindgen_cb_drop=function(n){const t=u(n).original;return t.cnt--==1?(t.a=0,!0):!1},e.wbg.__wbindgen_number_get=function(n,t){const r=o(t),c=typeof r=="number"?r:void 0;z()[n/8+1]=j(c)?0:c,d()[n/4+0]=!j(c)},e.wbg.__wbg_new_abda76e883ba8a5f=function(){const n=new Error;return s(n)},e.wbg.__wbg_stack_658279fe44541cf6=function(n,t){const r=o(t).stack,c=l(r,_.__wbindgen_malloc,_.__wbindgen_realloc),i=f;d()[n/4+1]=i,d()[n/4+0]=c},e.wbg.__wbg_error_f851667af71bcfc6=function(n,t){let r,c;try{r=n,c=t,console.error(y(n,t))}finally{_.__wbindgen_free(r,c,1)}},e.wbg.__wbg_queueMicrotask_3cbae2ec6b6cd3d6=function(n){const t=o(n).queueMicrotask;return s(t)},e.wbg.__wbindgen_is_function=function(n){return typeof o(n)=="function"},e.wbg.__wbg_queueMicrotask_481971b0d87f3dd4=function(n){queueMicrotask(o(n))},e.wbg.__wbg_debug_5fb96680aecf5dc8=function(n){console.debug(o(n))},e.wbg.__wbg_error_8e3928cfb8a43e2b=function(n){console.error(o(n))},e.wbg.__wbg_warn_63bbae1730aead09=function(n){console.warn(o(n))},e.wbg.__wbg_warn_1982e858bdcc0c42=function(n,t){console.warn(o(n),o(t))},e.wbg.__wbg_setonerror_667bee7dd2dad2ed=function(n,t){o(n).onerror=o(t)},e.wbg.__wbg_setonload_7d69e0bcecfa1d8a=function(n,t){o(n).onload=o(t)},e.wbg.__wbg_status_d485fb5a478426fb=function(){return g(function(n){return o(n).status},arguments)},e.wbg.__wbg_setresponseType_c50d8f6cb4236ef5=function(n,t){o(n).responseType=u(t)},e.wbg.__wbg_response_7c2e2759084f7279=function(){return g(function(n){const t=o(n).response;return s(t)},arguments)},e.wbg.__wbg_new_71801a555ad9f2aa=function(){return g(function(){const n=new XMLHttpRequest;return s(n)},arguments)},e.wbg.__wbg_open_85f3205b02464bad=function(){return g(function(n,t,r,c,i){o(n).open(y(t,r),y(c,i))},arguments)},e.wbg.__wbg_send_80d29985093c1ec5=function(){return g(function(n){o(n).send()},arguments)},e.wbg.__wbg_setRequestHeader_44d235e7a239a771=function(){return g(function(n,t,r,c,i){o(n).setRequestHeader(y(t,r),y(c,i))},arguments)},e.wbg.__wbindgen_is_object=function(n){const t=o(n);return typeof t=="object"&&t!==null},e.wbg.__wbindgen_is_null=function(n){return o(n)===null},e.wbg.__wbindgen_is_undefined=function(n){return o(n)===void 0},e.wbg.__wbindgen_boolean_get=function(n){const t=o(n);return typeof t=="boolean"?t?1:0:2},e.wbg.__wbg_String_1c522c3233f70723=function(n,t){const r=String(o(t)),c=l(r,_.__wbindgen_malloc,_.__wbindgen_realloc),i=f;d()[n/4+1]=i,d()[n/4+0]=c},e.wbg.__wbg_new_6efc6d7d421dd087=function(){const n=new Object;return s(n)},e.wbg.__wbg_set_479bff999f0fe59d=function(n,t,r){o(n)[u(t)]=u(r)},e.wbg.__wbg_new_16b304a2cfa7ff4a=function(){const n=new Array;return s(n)},e.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(n,t){const r=new Function(y(n,t));return s(r)},e.wbg.__wbg_new_d9bc3a0147634640=function(){return s(new Map)},e.wbg.__wbg_next_40fc327bfc8770e6=function(n){const t=o(n).next;return s(t)},e.wbg.__wbg_next_196c84450b364254=function(){return g(function(n){const t=o(n).next();return s(t)},arguments)},e.wbg.__wbg_done_298b57d23c0fc80c=function(n){return o(n).done},e.wbg.__wbg_value_d93c65011f51a456=function(n){const t=o(n).value;return s(t)},e.wbg.__wbg_iterator_2cee6dadfd956dfa=function(){return s(Symbol.iterator)},e.wbg.__wbg_get_e3c254076557e348=function(){return g(function(n,t){const r=Reflect.get(o(n),o(t));return s(r)},arguments)},e.wbg.__wbg_call_27c0f87801dedf93=function(){return g(function(n,t){const r=o(n).call(o(t));return s(r)},arguments)},e.wbg.__wbg_new_72fb9a18b5ae2624=function(){const n=new Object;return s(n)},e.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return g(function(){const n=self.self;return s(n)},arguments)},e.wbg.__wbg_window_c6fb939a7f436783=function(){return g(function(){const n=window.window;return s(n)},arguments)},e.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return g(function(){const n=globalThis.globalThis;return s(n)},arguments)},e.wbg.__wbg_global_207b558942527489=function(){return g(function(){const n=global.global;return s(n)},arguments)},e.wbg.__wbg_isArray_2ab64d95e09ea0ae=function(n){return Array.isArray(o(n))},e.wbg.__wbg_push_a5b05aedc7234f9f=function(n,t){return o(n).push(o(t))},e.wbg.__wbg_instanceof_ArrayBuffer_836825be07d4c9d2=function(n){let t;try{t=o(n)instanceof ArrayBuffer}catch{t=!1}return t},e.wbg.__wbg_values_839f3396d5aac002=function(n){const t=o(n).values();return s(t)},e.wbg.__wbg_new_28c511d9baebfa89=function(n,t){const r=new Error(y(n,t));return s(r)},e.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return g(function(n,t,r){const c=o(n).call(o(t),o(r));return s(c)},arguments)},e.wbg.__wbg_set_8417257aaedc936b=function(n,t,r){const c=o(n).set(o(t),o(r));return s(c)},e.wbg.__wbg_now_3014639a94423537=function(){return Date.now()},e.wbg.__wbg_new_81740750da40724f=function(n,t){try{var r={a:n,b:t},c=(a,b)=>{const h=r.a;r.a=0;try{return he(h,r.b,a,b)}finally{r.a=h}};const i=new Promise(c);return s(i)}finally{r.a=r.b=0}},e.wbg.__wbg_resolve_b0083a7967828ec8=function(n){const t=Promise.resolve(o(n));return s(t)},e.wbg.__wbg_then_0c86a60e8fcfe9f6=function(n,t){const r=o(n).then(o(t));return s(r)},e.wbg.__wbg_then_a73caa9a87991566=function(n,t,r){const c=o(n).then(o(t),o(r));return s(c)},e.wbg.__wbg_buffer_12d079cc21e14bdb=function(n){const t=o(n).buffer;return s(t)},e.wbg.__wbg_new_63b92bc8671ed464=function(n){const t=new Uint8Array(o(n));return s(t)},e.wbg.__wbg_set_a47bac70306a19a7=function(n,t,r){o(n).set(o(t),r>>>0)},e.wbg.__wbg_length_c20a40f15020d68a=function(n){return o(n).length},e.wbg.__wbg_instanceof_Uint8Array_2b3bbecd033d19f6=function(n){let t;try{t=o(n)instanceof Uint8Array}catch{t=!1}return t},e.wbg.__wbg_byteLength_58f7b4fab1919d44=function(n){return o(n).byteLength},e.wbg.__wbg_set_1f9b04f170055d33=function(){return g(function(n,t,r){return Reflect.set(o(n),o(t),o(r))},arguments)},e.wbg.__wbindgen_debug_string=function(n,t){const r=x(o(t)),c=l(r,_.__wbindgen_malloc,_.__wbindgen_realloc),i=f;d()[n/4+1]=i,d()[n/4+0]=c},e.wbg.__wbindgen_throw=function(n,t){throw new Error(y(n,t))},e.wbg.__wbindgen_memory=function(){const n=_.memory;return s(n)},e.wbg.__wbindgen_closure_wrapper325=function(n,t,r){const c=I(n,t,150,D);return s(c)},e.wbg.__wbindgen_closure_wrapper888=function(n,t,r){const c=I(n,t,318,H);return s(c)},e}function L(e,n){return _=e.exports,M.__wbindgen_wasm_module=n,v=null,k=null,p=null,_.__wbindgen_start(),_}function ke(e){if(_!==void 0)return _;const n=q();e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));const t=new WebAssembly.Instance(e,n);return L(t,e)}async function M(e){if(_!==void 0)return _;typeof e>"u"&&(e=new URL("/assets/etf_matcher_bg-DAfRIrFf.wasm",import.meta.url));const n=q();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:t,module:r}=await pe(await e,n);return L(t,r)}var W=Object.freeze({__proto__:null,audit_missing_ticker_vectors:oe,clear_cache:me,csv_to_ticker_buckets:be,default:M,extract_search_results_from_text:G,generate_qr_code:J,get_all_major_sectors:ce,get_all_ticker_vector_configs:fe,get_cache_details:we,get_cache_size:de,get_cosine_by_ticker:ae,get_cosine_by_ticker_bucket:ue,get_data_build_info:Q,get_etf_aggregate_detail:ne,get_etf_holders_aggregate_detail:ee,get_etf_holding_weight:re,get_etf_holdings:te,get_euclidean_by_ticker:ie,get_euclidean_by_ticker_bucket:se,get_image_info:_e,get_ticker_10k_detail:P,get_ticker_detail:Y,get_weighted_ticker_10k_detail:K,get_weighted_ticker_sector_distribution:Z,initSync:ke,levenshtein_distance:ge,main:B,preload_symbol_search_cache:V,remove_cache_entry:ye,search_tickers:X,ticker_buckets_to_csv:le});const ve=["warn","error"];function Ae(e){return ve.includes(e)?Function.prototype.bind?Function.prototype.bind.call(globalThis.console[e],console):function(...n){Function.prototype.apply.call(globalThis.console[e],console,n)}:()=>null}function Ee(){const e={};return Object.keys(console).forEach(n=>{typeof globalThis.console[n]=="function"&&(e[n]=Ae(n))}),e}const Te=Ee();var R=(e=>(e[e.Function=1]="Function",e[e.NotifiyEvent=2]="NotifiyEvent",e))(R||{}),w=(e=>(e[e.EnvelopeType=1]="EnvelopeType",e[e.Success=2]="Success",e[e.Result=3]="Result",e[e.MessageId=4]="MessageId",e[e.Error=5]="Error",e[e.NotifierEventType=6]="NotifierEventType",e[e.NotifierArgs=7]="NotifierArgs",e))(w||{});let S=!1,E=null;const O=[];async function Fe(){S||(E?await E:(E=M().then(()=>{S=!0}),await E))}function je(e,n=50){const t="... (truncated)";if(typeof e=="string")return e.length>n?`${e.slice(0,n)}${t}`:e;if(typeof e=="object")try{const r=JSON.stringify(e);return r.length>n?`${r.slice(0,n)}${t}`:r}catch{return"[Unserializable Object]"}return e}async function Re(){for(;O.length>0;){const e=O.shift();if(e){const{functionName:n,args:t,resolve:r,reject:c}=e;try{if(await Fe(),typeof W[n]!="function")throw new Error(`Unknown function: ${n}`);const i=await W[n](...t);r(i)}catch(i){const a=t.map(b=>je(b));Te.error(`Worker encountered an error @ function "${n}" [${a.join(", ")}]:`,i),c(i)}}}}self.onmessage=async e=>{const{functionName:n,args:t,messageId:r}=e.data;new Promise((i,a)=>{O.push({functionName:n,args:t,resolve:i,reject:a}),O.length===1&&Re()}).then(i=>{self.postMessage({[w.EnvelopeType]:R.Function,[w.Success]:!0,[w.Result]:i,[w.MessageId]:r})}).catch(i=>{const a=i instanceof Error?i.message:i;self.postMessage({[w.EnvelopeType]:R.Function,[w.Success]:!1,[w.Error]:a,[w.MessageId]:r})})};self.rustNotifyCallback=function(e,n){self.postMessage({[w.EnvelopeType]:R.NotifiyEvent,[w.NotifierEventType]:e,[w.NotifierArgs]:n})};
